(function(){var t;App.room=App.cable.subscriptions.create({channel:"RoomChannel",room_id:$("#room_id").val(),user_id:$("#user_id").val()},{connected:function(){},disconnected:function(){},received:function(e){return console.log(e),"text_message"===e.type?($("#text_message_table").append(e.message),t()):"entered_message"===e.type?$("#entered_messages").html(e.user_list):void 0},speak:function(t,e,n){return this.perform("speak",{room_id:t,user_id:e,message:n})}}),$(document).on("keypress","[data-behavior~=room_speaker]",function(t){if(13===t.keyCode)return App.room.speak($("#room_id").val(),$("#user_id").val(),t.target.value),t.target.value="",t.preventDefault()}),$(document).on("click","#send_message",function(t){return App.room.speak($("#room_id").val(),$("#user_id").val(),$("#input_message").val()),$("#input_message").val(""),t.preventDefault()}),t=function(){return $("#text_messages").animate({scrollTop:$("#text_messages")[0].scrollHeight},"fast")},$(function(){return console.log("test in document.ready"),t()})}).call(this);